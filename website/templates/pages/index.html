{% extends 'pages/base.html' %}
{% load humanize %}

{% block title %}Home · CRUD{% endblock %}

{% block content %}
  <section class="hero-cover rounded-4 p-4 p-md-5 mb-5">
    <div class="row align-items-center g-4">
      <div class="col-lg-6">
        <span class="badge badge-soft rounded-pill mb-3">Django + Bootstrap</span>
        <h1 class="display-5 fw-bold mb-3">A clean CRUD starter for real work</h1>
        <p class="lead opacity-90 mb-4">Launch faster with secure auth, a polished UI, and admin tools ready to go. Focus on your data, not boilerplate.</p>
        <div class="d-flex gap-2">
          {% if user.is_authenticated %}
            <a href="{% url 'dashboard' %}" class="btn btn-primary btn-lg">Go to Dashboard</a>
            <a href="{% url 'logout' %}" class="btn btn-outline-primary btn-lg">Logout</a>
          {% else %}
            <a href="{% url 'login' %}" class="btn btn-primary btn-lg">Login</a>
            <a href="{% url 'register' %}" class="btn btn-outline-primary btn-lg">Register</a>
          {% endif %}
        </div>
      </div>
      <div class="col-lg-6">
        <div class="feature-card p-3 p-md-4">
          <div class="d-flex align-items-center gap-3 mb-3">
            <span class="badge text-bg-light">Preview</span>
            <span class="text-secondary small">Responsive and accessible</span>
          </div>
          <div class="ratio ratio-16x9 rounded" style="background:
            linear-gradient(180deg, rgba(13,110,253,.12), rgba(111,66,193,.1));
            border:1px solid rgba(0,0,0,.06);
          ">
            <!-- Mock UI block -->
            <div class="d-flex flex-column p-3 p-md-4" style="gap:.5rem;">
              <div class="bg-white rounded-2" style="height:10px; width:40%; opacity:.8"></div>
              <div class="bg-white rounded-2" style="height:10px; width:75%; opacity:.7"></div>
              <div class="bg-white rounded-2" style="height:10px; width:55%; opacity:.7"></div>
              <div class="bg-white rounded-2 mt-auto" style="height:50%; opacity:.5"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section id="features" class="mb-5">
    <div class="row g-3 g-md-4">
      <div class="col-md-4">
        <div class="feature-card p-4 h-100">
          <div class="icon-circle mb-3"><i class="fa-solid fa-lock"></i></div>
          <h5 class="mb-2">Secure Auth</h5>
          <p class="text-secondary mb-0">Login, registration, and feedback messages configured with sane defaults.</p>
        </div>
      </div>
      <div class="col-md-4">
        <div class="feature-card p-4 h-100">
          <div class="icon-circle purple mb-3"><i class="fa-solid fa-palette"></i></div>
          <h5 class="mb-2">Polished UI</h5>
          <p class="text-secondary mb-0">Modern spacing, typography, and components that feel production‑ready.</p>
        </div>
      </div>
      <div class="col-md-4">
        <div class="feature-card p-4 h-100">
          <div class="icon-circle success mb-3"><i class="fa-solid fa-bolt"></i></div>
          <h5 class="mb-2">Ready to Extend</h5>
          <p class="text-secondary mb-0">Hook your models in quickly—admin pages and examples included.</p>
        </div>
      </div>
    </div>
  </section>

  <section class="mb-5">
    <div class="row g-3 g-md-4">
      <div class="col-lg-5">
        <h4 class="section-title mb-2">How it works</h4>
        <p class="section-subtitle">Get a usable app in minutes</p>
        <ul class="list-check mt-3">
          <li>Register or login to access your dashboard</li>
          <li>Create records from the admin pages</li>
          <li>Customize models, styles, and routes to fit your needs</li>
        </ul>
      </div>
      <div class="col-lg-7">
        <div class="row g-3 g-md-4">
          <div class="col-6 col-md-4">
            <div class="feature-card p-3 text-center h-100">
              <div class="icon-circle mb-2"><i class="fa-solid fa-user-plus"></i></div>
              <div class="small text-secondary">Sign up</div>
            </div>
          </div>
          <div class="col-6 col-md-4">
            <div class="feature-card p-3 text-center h-100">
              <div class="icon-circle mb-2"><i class="fa-solid fa-gauge-high"></i></div>
              <div class="small text-secondary">Use dashboard</div>
            </div>
          </div>
          <div class="col-6 col-md-4">
            <div class="feature-card p-3 text-center h-100">
              <div class="icon-circle mb-2"><i class="fa-solid fa-table-list"></i></div>
              <div class="small text-secondary">Add records</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="row g-4">
    <div class="col-md-4">
      <div class="feature-card p-4 h-100">
        <h5 class="mb-2">Secure Auth</h5>
        <p class="mb-0 text-secondary">Login, Logout, and Registration with helpful feedback messages.</p>
      </div>
    </div>
    <div class="col-md-4">
      <div class="feature-card p-4 h-100">
        <h5 class="mb-2">Clean UI</h5>
        <p class="mb-0 text-secondary">Modern typography, balanced spacing, and a crisp color theme.</p>
      </div>
    </div>
    <div class="col-md-4">
      <div class="feature-card p-4 h-100">
        <h5 class="mb-2">Responsive</h5>
        <p class="mb-0 text-secondary">Looks great on desktop and mobile with Bootstrap utilities.</p>
      </div>
    </div>
  </section>

  <section class="mt-5">
    <div class="d-flex justify-content-between align-items-center mb-3">
      <h4 class="mb-0">Recent Records</h4>
      {% if request.user.is_staff %}
        <a href="{% url 'records_list' %}" class="btn btn-sm btn-outline-primary">View all</a>
      {% endif %}
    </div>
    <div class="row g-3 g-md-4">
      {% for r in recent_records %}
      <div class="col-md-6 col-lg-4">
        <div class="feature-card p-4 h-100">
          <div class="d-flex justify-content-between align-items-start mb-2">
            <h6 class="mb-0">{{ r.title }}</h6>
            <span class="badge text-bg-light">{{ r.created_at|naturaltime }}</span>
          </div>
          <p class="text-secondary small mb-2">{{ r.description|default:'No description' }}</p>
          <div class="small text-secondary">By {{ r.created_by|default:'—' }}</div>
        </div>
      </div>
      {% empty %}
      <div class="col-12">
        <div class="feature-card p-4">
          <p class="mb-0 text-secondary">No records yet. {% if request.user.is_staff %}Create one from the Admin → Records page.{% else %}Ask an admin to add some data.{% endif %}</p>
        </div>
      </div>
      {% endfor %}
    </div>
  </section>

  <section class="mt-5">
    <h4 class="mb-3">Trusted by small teams</h4>
    <div class="d-flex flex-wrap align-items-center gap-3 text-secondary">
      <i class="fa-brands fa-github"></i>
      <i class="fa-brands fa-figma"></i>
      <i class="fa-brands fa-slack"></i>
      <i class="fa-brands fa-atlassian"></i>
      <small class="opacity-75">Demo logos</small>
    </div>
  </section>

  <section id="faq" class="mt-5">
    <h4 class="mb-3">FAQ</h4>
    <div class="accordion" id="faq-acc">
      <div class="accordion-item">
        <h2 class="accordion-header" id="q1">
          <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#a1" aria-expanded="true" aria-controls="a1">
            What is this app for?
          </button>
        </h2>
        <div id="a1" class="accordion-collapse collapse show" aria-labelledby="q1" data-bs-parent="#faq-acc">
          <div class="accordion-body">
            A minimal CRUD starter with auth, admin tools, and a clean UI.
          </div>
        </div>
      </div>
      <div class="accordion-item">
        <h2 class="accordion-header" id="q2">
          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#a2" aria-expanded="false" aria-controls="a2">
            How do I add records?
          </button>
        </h2>
        <div id="a2" class="accordion-collapse collapse" aria-labelledby="q2" data-bs-parent="#faq-acc">
          <div class="accordion-body">
            Staff users can manage records from Admin → Records. Non-staff can view recent items here.
          </div>
        </div>
      </div>
      <div class="accordion-item">
        <h2 class="accordion-header" id="q3">
          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#a3" aria-expanded="false" aria-controls="a3">
            Can I customize the look?
          </button>
        </h2>
        <div id="a3" class="accordion-collapse collapse" aria-labelledby="q3" data-bs-parent="#faq-acc">
          <div class="accordion-body">
            Yes. Tweak the Bootswatch theme and add styles in <code>static/CSS/style.css</code>.
          </div>
        </div>
      </div>
    </div>
  </section>
{% endblock content %}
